<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - Sistem Laporan Santri</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Tambahan style untuk login */
        .error-message {
            display: none;
            background: #ffeaea;
            border: 1px solid #ffcccc;
            color: #d63031;
            padding: 12px;
            border-radius: 8px;
            text-align: center;
            margin-top: 15px;
            animation: shake 0.5s;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
    </style>
</head>
<body>
    <div class="login-container">
        <div class="logo">
            <i class="fas fa-mosque"></i>
            <h1>Pesantren <span>Kakatua</span></h1>
            <p>Sistem Laporan Santri</p>
        </div>
        
        <form id="loginForm">
            <div class="input-group">
                <i class="fas fa-user"></i>
                <input type="text" id="idSantri" placeholder="ID Santri (Contoh: S001)" required>
            </div>
            
            <div class="input-group">
                <i class="fas fa-lock"></i>
                <input type="password" id="password" placeholder="Password" required>
            </div>
            
            <button type="submit" class="btn-login">
                <i class="fas fa-sign-in-alt"></i> Masuk
            </button>
            
            <div class="info">
                <p><i class="fas fa-info-circle"></i> Hubungi admin jika lupa ID/Password</p>
            </div>
        </form>
        
        <div class="error-message" id="errorMessage">
            <i class="fas fa-exclamation-triangle"></i> ID atau password salah!
        </div>
    </div>

    <script>
        // Data user sementara
        const users = {
            'S001': { password: 'pass123', nama: 'Ahmad' },
            'S002': { password: 'pass456', nama: 'Siti' },
            'S003': { password: 'demo123', nama: 'Demo' }
        };

        // Login function
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const idSantri = document.getElementById('idSantri').value.toUpperCase().trim();
            const password = document.getElementById('password').value;
            const errorMessage = document.getElementById('errorMessage');
            
            // Reset error
            errorMessage.style.display = 'none';
            
            // Validasi
            if (!idSantri || !password) {
                errorMessage.textContent = 'Harap isi ID dan password!';
                errorMessage.style.display = 'block';
                return;
            }
            
            // Cek user
            if (users[idSantri] && users[idSantri].password === password) {
                // Simpan ke localStorage
                localStorage.setItem('userData', JSON.stringify({
                    id: idSantri,
                    nama: users[idSantri].nama
                }));
                
                // Redirect ke dashboard
                window.location.href = 'dashboard.html';
                
            } else {
                errorMessage.textContent = 'ID atau password salah!';
                errorMessage.style.display = 'block';
            }
        });

        // Auto focus ke input ID
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('idSantri').focus();
            
            // Jika ada data user, langsung redirect ke dashboard
            const userData = localStorage.getItem('userData');
            if (userData) {
                window.location.href = 'dashboard.html';
            }
        });
    </script>
</body>
</html>
